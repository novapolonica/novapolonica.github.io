!function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){t()}function s(t,e){t.appendChild(e)}function r(t,e,n){t.insertBefore(e,n)}function i(t){t.parentNode.removeChild(t)}function o(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function c(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function l(){return Object.create(null)}function d(t){t._lock=!0,u(t._beforecreate),u(t._oncreate),u(t._aftercreate),t._lock=!1}function u(t){for(;t&&t.length;)t.shift()()}var h={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var s=0;s<n.length;s+=1){var r=n[s];if(!r.__calling)try{r.__calling=!0,r.call(this,e)}finally{r.__calling=!1}}},on:function(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(e({},t)),this.root._lock||d(this.root)},_recompute:t,_set:function(t){var n=this._state,s={},r=!1;for(var i in t=e(this._staged,t),this._staged={},t)this._differs(t[i],n[i])&&(s[i]=r=!0);r&&(this._state=e(e({},n),t),this._recompute(s,this._state),this._bind&&this._bind(s,this._state),this._fragment&&(this.fire("state",{changed:s,current:this._state,previous:n}),this._fragment.p(s,this._state),this.fire("update",{changed:s,current:this._state,previous:n})))},_stage:function(t){e(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}};const f=[11,12,13,21,22,23,31,32,33];let _=1;function g(t=!1){const e=document.querySelector("cardslots").getBoundingClientRect();f.forEach(n=>{const s=document.getElementById("slot_"+n).getBoundingClientRect(),r=document.querySelector(`card[pos='${n}']`);r.style.top=`${s.top+pageYOffset}px`,r.style.left=`${s.left+pageXOffset}px`,t&&(r.style.width=`${s.width}px`,r.style.height=`${s.height}px`,r.style["background-size"]=`${e.width}px ${e.height}px`)})}function m(){const t=document.querySelector("cardslots"),e=t.getBoundingClientRect();t.setAttribute("style",`height:${e.width}px;`);let n=++_;setTimeout(()=>{if(n!=_)return;const t=document.querySelector("cards");t.classList.remove("animated"),g(!0);let e=++_;setTimeout(()=>{e==_&&t.classList.add("animated")},50)},50)}var p={onCardClick(t){setTimeout(this.moveCard(t),50)},flashCard(t){},moveCard(t){const e=document.querySelector("#card_"+t),n=document.querySelector("#card_11"),s=e.getAttribute("pos"),r=n.getAttribute("pos"),i=Math.abs(parseInt(r)-parseInt(s));10!=i&&1!=i||(n.setAttribute("pos",s),e.setAttribute("pos",r),r==t?e.classList.remove("miss"):e.classList.add("miss"),g())},onResize(){m()}};function v(){m()}function x(t){const{component:e,ctx:n}=this._svelte;e.onCardClick(n.card)}function y(t,e,n){const s=Object.create(t);return s.card=e[n],s}function b(t,e,n){const s=Object.create(t);return s.slot=e[n],s}function w(t,e){var c,l,d,u,h,f;function _(e){t.onResize()}window.addEventListener("resize",_);for(var g=e.slots,m=[],p=0;p<g.length;p+=1)m[p]=S(t,b(e,g,p));var v=e.cards,x=[];for(p=0;p<v.length;p+=1)x[p]=C(t,y(e,v,p));return{c(){c=a("game"),l=a("board"),d=a("cardslots");for(var t=0;t<m.length;t+=1)m[t].c();var e;e="\n\n        ",u=document.createTextNode(e),h=a("cards");for(t=0;t<x.length;t+=1)x[t].c();d.className="svelte-1x6gxgp",h.className="animated svelte-1x6gxgp",l.className="svelte-1x6gxgp",c.className="noselect svelte-1x6gxgp"},m(t,e){r(t,c,e),s(c,l),s(l,d);for(var n=0;n<m.length;n+=1)m[n].m(d,null);s(l,u),s(l,h);for(n=0;n<x.length;n+=1)x[n].m(h,null);f=!0},p(e,n){if(e.slots){g=n.slots;for(var s=0;s<g.length;s+=1){const r=b(n,g,s);m[s]?m[s].p(e,r):(m[s]=S(t,r),m[s].c(),m[s].m(d,null))}for(;s<m.length;s+=1)m[s].d(1);m.length=g.length}if(e.cards){v=n.cards;for(s=0;s<v.length;s+=1){const r=y(n,v,s);x[s]?x[s].p(e,r):(x[s]=C(t,r),x[s].c(),x[s].m(h,null))}for(;s<x.length;s+=1)x[s].d(1);x.length=v.length}},i(t,e){f||this.m(t,e)},o:n,d(t){window.removeEventListener("resize",_),t&&i(c),o(m,t),o(x,t)}}}function S(t,e){var n,s;return{c(){(n=a("cardslot")).id=s="slot_"+e.slot,n.className="svelte-1x6gxgp"},m(t,e){r(t,n,e)},p(t,e){t.slots&&s!==(s="slot_"+e.slot)&&(n.id=s)},d(t){t&&i(n)}}}function C(t,e){var n,s,o;return{c(){var r,i,l,d,u;(n=a("card"))._svelte={component:t,ctx:e},r="click",i=x,n.addEventListener(r,i,l),n.id=s="card_"+e.card,c(n,"pos",o=e.card),n.className="svelte-1x6gxgp",d="miss",u=!1,n.classList[u?"add":"remove"](d)},m(t,e){r(t,n,e)},p(t,r){e=r,n._svelte.ctx=e,t.cards&&s!==(s="card_"+e.card)&&(n.id=s),t.cards&&o!==(o=e.card)&&c(n,"pos",o)},d(t){var e,s,r;t&&i(n),e="click",s=x,n.removeEventListener(e,s,r)}}}function z(t){!function(t,e){t._handlers=l(),t._slots=l(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}(this,t),this._state=e({slots:f,cards:f},t.data),this._intro=!!t.intro,this._handlers.update=[v],this._fragment=w(this,this._state),this.root._oncreate.push(()=>{(function(){m()}).call(this),this.fire("update",{changed:function(t,e){for(var n in e)t[n]=1;return t}({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),d(this)),this._intro=!0}e(z.prototype,h),e(z.prototype,p);var L=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},E=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};new z({target:document.querySelector("#cells")});!function(t,e,n){var s=E({minFontSize:-1/0,maxFontSize:1/0},n),r=function(t){var n=e||1,r=function(){t.style.fontSize=Math.max(Math.min(t.clientWidth/(10*n),parseFloat(s.maxFontSize)),parseFloat(s.minFontSize))+"px"};r(),L(window,"resize",r),L(window,"orientationchange",r)};if(t.length)for(var i=0;i<t.length;i++)r(t[i]);else r(t)}(document.querySelector(".title h1"))}();
