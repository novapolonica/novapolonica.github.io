!function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){t()}function s(t,e){t.appendChild(e)}function r(t,e,n){t.insertBefore(e,n)}function i(t){t.parentNode.removeChild(t)}function o(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function a(t){return document.createElement(t)}function c(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function l(){return Object.create(null)}function h(t){t._lock=!0,d(t._beforecreate),d(t._oncreate),d(t._aftercreate),t._lock=!1}function d(t){for(;t&&t.length;)t.shift()()}var u={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var s=0;s<n.length;s+=1){var r=n[s];if(!r.__calling)try{r.__calling=!0,r.call(this,e)}finally{r.__calling=!1}}},on:function(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(e({},t)),this.root._lock||h(this.root)},_recompute:t,_set:function(t){var n=this._state,s={},r=!1;for(var i in t=e(this._staged,t),this._staged={},t)this._differs(t[i],n[i])&&(s[i]=r=!0);r&&(this._state=e(e({},n),t),this._recompute(s,this._state),this._bind&&this._bind(s,this._state),this._fragment&&(this.fire("state",{changed:s,current:this._state,previous:n}),this._fragment.p(s,this._state),this.fire("update",{changed:s,current:this._state,previous:n})))},_stage:function(t){e(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}};const f=[11,12,13,21,22,23,31,32,33];let _=1;function m(t=!1){const e=document.querySelector("cardslots").getBoundingClientRect();f.forEach(n=>{const s=document.getElementById("slot_"+n).getBoundingClientRect(),r=document.querySelector(`card[pos='${n}']`);r.style.top=`${s.top+pageYOffset}px`,r.style.left=`${s.left+pageXOffset}px`,t&&(r.style.width=`${s.width}px`,r.style.height=`${s.height}px`,r.style["background-size"]=`${e.width}px ${e.height}px`)})}function g(){const t=document.querySelector("cardslots"),e=t.getBoundingClientRect();t.setAttribute("style",`height:${e.width}px;`);let n=++_;setTimeout(()=>{if(n!=_)return;const t=document.querySelector("cards");t.classList.remove("animated"),m(!0);let e=++_;setTimeout(()=>{e==_&&t.classList.add("animated")},50)},50)}var p={onCardClick(t){setTimeout(this.moveCard(t),50)},flashCard(t){},moveCard(t){const e=document.querySelector("#card_"+t),n=document.querySelector("#card_11"),s=e.getAttribute("pos"),r=n.getAttribute("pos"),i=Math.abs(parseInt(r)-parseInt(s));10!=i&&1!=i||(n.setAttribute("pos",s),e.setAttribute("pos",r),r==t?e.classList.remove("miss"):e.classList.add("miss"),m())},onResize(){g()}};function v(){g()}function y(t){const{component:e,ctx:n}=this._svelte;e.onCardClick(n.card)}function b(t,e,n){const s=Object.create(t);return s.card=e[n],s}function x(t,e,n){const s=Object.create(t);return s.slot=e[n],s}function w(t,e){var c,l,h,d,u,f;function _(e){t.onResize()}window.addEventListener("resize",_);for(var m=e.slots,g=[],p=0;p<m.length;p+=1)g[p]=S(t,x(e,m,p));var v=e.cards,y=[];for(p=0;p<v.length;p+=1)y[p]=C(t,b(e,v,p));return{c(){c=a("game"),l=a("board"),h=a("cardslots");for(var t=0;t<g.length;t+=1)g[t].c();var e;e="\n\n        ",d=document.createTextNode(e),u=a("cards");for(t=0;t<y.length;t+=1)y[t].c();h.className="svelte-e96hp1",u.className="animated svelte-e96hp1",l.className="svelte-e96hp1",c.className="noselect svelte-e96hp1"},m(t,e){r(t,c,e),s(c,l),s(l,h);for(var n=0;n<g.length;n+=1)g[n].m(h,null);s(l,d),s(l,u);for(n=0;n<y.length;n+=1)y[n].m(u,null);f=!0},p(e,n){if(e.slots){m=n.slots;for(var s=0;s<m.length;s+=1){const r=x(n,m,s);g[s]?g[s].p(e,r):(g[s]=S(t,r),g[s].c(),g[s].m(h,null))}for(;s<g.length;s+=1)g[s].d(1);g.length=m.length}if(e.cards){v=n.cards;for(s=0;s<v.length;s+=1){const r=b(n,v,s);y[s]?y[s].p(e,r):(y[s]=C(t,r),y[s].c(),y[s].m(u,null))}for(;s<y.length;s+=1)y[s].d(1);y.length=v.length}},i(t,e){f||this.m(t,e)},o:n,d(t){window.removeEventListener("resize",_),t&&i(c),o(g,t),o(y,t)}}}function S(t,e){var n,s;return{c(){(n=a("cardslot")).id=s="slot_"+e.slot,n.className="svelte-e96hp1"},m(t,e){r(t,n,e)},p(t,e){t.slots&&s!==(s="slot_"+e.slot)&&(n.id=s)},d(t){t&&i(n)}}}function C(t,e){var n,s,o;return{c(){var r,i,l,h,d;(n=a("card"))._svelte={component:t,ctx:e},r="click",i=y,n.addEventListener(r,i,l),n.id=s="card_"+e.card,c(n,"pos",o=e.card),n.className="svelte-e96hp1",h="miss",d=!1,n.classList[d?"add":"remove"](h)},m(t,e){r(t,n,e)},p(t,r){e=r,n._svelte.ctx=e,t.cards&&s!==(s="card_"+e.card)&&(n.id=s),t.cards&&o!==(o=e.card)&&c(n,"pos",o)},d(t){var e,s,r;t&&i(n),e="click",s=y,n.removeEventListener(e,s,r)}}}function z(t){!function(t,e){t._handlers=l(),t._slots=l(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}(this,t),this._state=e({slots:f,cards:f},t.data),this._intro=!!t.intro,this._handlers.update=[v],this._fragment=w(this,this._state),this.root._oncreate.push(()=>{(function(){g()}).call(this),this.fire("update",{changed:function(t,e){for(var n in e)t[n]=1;return t}({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),h(this)),this._intro=!0}e(z.prototype,u),e(z.prototype,p);var L=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},E=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};new z({target:document.querySelector("#cells")});!function(t,e,n){var s=E({minFontSize:-1/0,maxFontSize:1/0},n),r=function(t){var n=e||1,r=function(){t.style.fontSize=Math.max(Math.min(t.clientWidth/(10*n),parseFloat(s.maxFontSize)),parseFloat(s.minFontSize))+"px"};r(),L(window,"resize",r),L(window,"orientationchange",r)};if(t.length)for(var i=0;i<t.length;i++)r(t[i]);else r(t)}(document.querySelector(".title h1"))}();
