!function(){"use strict";function t(){}function e(t,e){for(var n in e)t[n]=e[n];return t}function n(t){t()}function r(t,e){t.appendChild(e)}function s(t,e,n){t.insertBefore(e,n)}function o(t){t.parentNode.removeChild(t)}function i(t,e){for(var n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function c(t){return document.createElement(t)}function a(t,e,n,r){t.addEventListener(e,n,r)}function l(t,e,n,r){t.removeEventListener(e,n,r)}function u(t,e,n){null==n?t.removeAttribute(e):t.setAttribute(e,n)}function f(){return Object.create(null)}function d(t){t._lock=!0,h(t._beforecreate),h(t._oncreate),h(t._aftercreate),t._lock=!1}function h(t){for(;t&&t.length;)t.shift()()}var _={destroy:function(e){this.destroy=t,this.fire("destroy"),this.set=t,this._fragment.d(!1!==e),this._fragment=null,this._state={}},get:function(){return this._state},fire:function(t,e){var n=t in this._handlers&&this._handlers[t].slice();if(n)for(var r=0;r<n.length;r+=1){var s=n[r];if(!s.__calling)try{s.__calling=!0,s.call(this,e)}finally{s.__calling=!1}}},on:function(t,e){var n=this._handlers[t]||(this._handlers[t]=[]);return n.push(e),{cancel:function(){var t=n.indexOf(e);~t&&n.splice(t,1)}}},set:function(t){this._set(e({},t)),this.root._lock||d(this.root)},_recompute:t,_set:function(t){var n=this._state,r={},s=!1;for(var o in t=e(this._staged,t),this._staged={},t)this._differs(t[o],n[o])&&(r[o]=s=!0);s&&(this._state=e(e({},n),t),this._recompute(r,this._state),this._bind&&this._bind(r,this._state),this._fragment&&(this.fire("state",{changed:r,current:this._state,previous:n}),this._fragment.p(r,this._state),this.fire("update",{changed:r,current:this._state,previous:n})))},_stage:function(t){e(this._staged,t)},_mount:function(t,e){this._fragment[this._fragment.i?"i":"m"](t,e||null)},_differs:function(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}};const g=[11,12,13,21,22,23,31,32,33];let m=1;function v(){const t=document.querySelector("cardslots").getBoundingClientRect();g.forEach(e=>{const n=document.getElementById("slot_"+e).getBoundingClientRect(),r=document.querySelector(`card[pos='${e}']`),s=`top: ${n.top+pageYOffset}px; `+`left: ${n.left+pageXOffset}px; `+`width:${n.width}px; `+`height: ${n.height}px; `+`background-size: ${t.width}px ${t.height}px;`;r.setAttribute("style",s)})}function p(){const t=document.querySelector("cardslots"),e=t.getBoundingClientRect();t.setAttribute("style",`height:${e.width}px;`);let n=++m;setTimeout(()=>{if(n!=m)return;const t=document.querySelector("cards");t.classList.remove("animated"),v();let e=++m;setTimeout(()=>{e==m&&t.classList.add("animated")},50)},50)}var y={moveCard(t){const e=document.querySelector("#card_"+t),n=document.querySelector("#card_11"),r=e.getAttribute("pos"),s=n.getAttribute("pos"),o=Math.abs(parseInt(s)-parseInt(r));10!=o&&1!=o||(n.setAttribute("pos",r),e.setAttribute("pos",s),v())},onResize(){p()}};function b(){p()}function x(t){const{component:e,ctx:n}=this._svelte;e.moveCard(n.card)}function z(t,e,n){const r=Object.create(t);return r.card=e[n],r}function w(t){const{component:e,ctx:n}=this._svelte;e.moveCard(n.slot)}function S(t,e,n){const r=Object.create(t);return r.slot=e[n],r}function E(t,e){var a,l,u,f,d,h;function _(e){t.onResize()}window.addEventListener("resize",_);for(var g=e.slots,m=[],v=0;v<g.length;v+=1)m[v]=k(t,S(e,g,v));var p=e.cards,y=[];for(v=0;v<p.length;v+=1)y[v]=q(t,z(e,p,v));return{c(){a=c("game"),l=c("board"),u=c("cardslots");for(var t=0;t<m.length;t+=1)m[t].c();var e;e="\n\n        ",f=document.createTextNode(e),d=c("cards");for(t=0;t<y.length;t+=1)y[t].c();u.className="svelte-1fgz0n2",d.className="animated svelte-1fgz0n2",l.className="svelte-1fgz0n2",a.className="noselect svelte-1fgz0n2"},m(t,e){s(t,a,e),r(a,l),r(l,u);for(var n=0;n<m.length;n+=1)m[n].m(u,null);r(l,f),r(l,d);for(n=0;n<y.length;n+=1)y[n].m(d,null);h=!0},p(e,n){if(e.slots){g=n.slots;for(var r=0;r<g.length;r+=1){const s=S(n,g,r);m[r]?m[r].p(e,s):(m[r]=k(t,s),m[r].c(),m[r].m(u,null))}for(;r<m.length;r+=1)m[r].d(1);m.length=g.length}if(e.cards){p=n.cards;for(r=0;r<p.length;r+=1){const s=z(n,p,r);y[r]?y[r].p(e,s):(y[r]=q(t,s),y[r].c(),y[r].m(d,null))}for(;r<y.length;r+=1)y[r].d(1);y.length=p.length}},i(t,e){h||this.m(t,e)},o:n,d(t){window.removeEventListener("resize",_),t&&o(a),i(m,t),i(y,t)}}}function k(t,e){var n,r;return{c(){(n=c("cardslot"))._svelte={component:t,ctx:e},a(n,"click",w),n.id=r="slot_"+e.slot,n.className="svelte-1fgz0n2"},m(t,e){s(t,n,e)},p(t,s){e=s,n._svelte.ctx=e,t.slots&&r!==(r="slot_"+e.slot)&&(n.id=r)},d(t){t&&o(n),l(n,"click",w)}}}function q(t,e){var n,r,i;return{c(){(n=c("card"))._svelte={component:t,ctx:e},a(n,"click",x),n.id=r="card_"+e.card,u(n,"pos",i=e.card),n.className="svelte-1fgz0n2"},m(t,e){s(t,n,e)},p(t,s){e=s,n._svelte.ctx=e,t.cards&&r!==(r="card_"+e.card)&&(n.id=r),t.cards&&i!==(i=e.card)&&u(n,"pos",i)},d(t){t&&o(n),l(n,"click",x)}}}function A(t){!function(t,e){t._handlers=f(),t._slots=f(),t._bind=e._bind,t._staged={},t.options=e,t.root=e.root||t,t.store=e.store||t.root.store,e.root||(t._beforecreate=[],t._oncreate=[],t._aftercreate=[])}(this,t),this._state=e({slots:g,cards:g},t.data),this._intro=!!t.intro,this._handlers.update=[b],this._fragment=E(this,this._state),this.root._oncreate.push(()=>{this.fire("update",{changed:function(t,e){for(var n in e)t[n]=1;return t}({},this._state),current:this._state})}),t.target&&(this._fragment.c(),this._mount(t.target,t.anchor),d(this)),this._intro=!0}e(A.prototype,_),e(A.prototype,y);var C=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},L=function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t};new A({target:document.querySelector("#cells")});!function(t,e,n){var r=L({minFontSize:-1/0,maxFontSize:1/0},n),s=function(t){var n=e||1,s=function(){t.style.fontSize=Math.max(Math.min(t.clientWidth/(10*n),parseFloat(r.maxFontSize)),parseFloat(r.minFontSize))+"px"};s(),C(window,"resize",s),C(window,"orientationchange",s)};if(t.length)for(var o=0;o<t.length;o++)s(t[o]);else s(t)}(document.querySelector(".title h1"))}();
